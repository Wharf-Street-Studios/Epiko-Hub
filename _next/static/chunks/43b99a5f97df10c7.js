(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16694,e=>{"use strict";var t=e.i(28589),a=e.i(72199);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function i({className:e,...r}){return(0,t.jsx)("h4",{"data-slot":"card-title",className:(0,a.cn)("leading-none",e),...r})}function l({className:e,...r}){return(0,t.jsx)("p",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6 [&:last-child]:pb-6",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>l,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>i])},94513,e=>{"use strict";var t=e.i(28589),a=e.i(72199);function r({className:e,type:r,...s}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>r])},83805,e=>{"use strict";var t=e.i(65480),a=e.i(56260);function r(e){let[r,s]=t.useState(void 0);return(0,a.useLayoutEffect)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,r;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,r=t.blockSize}else a=e.offsetWidth,r=e.offsetHeight;s({width:a,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),r}e.s(["useSize",()=>r])},97961,e=>{"use strict";var t=e.i(28589),a=e.i(72199);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},44634,e=>{"use strict";var t=e.i(28589),a=e.i(65480);e.i(29550);var r=e.i(97070),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,r.createSlot)(`Primitive.${s}`),l=a.forwardRef((e,a)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?i:s,{...l,ref:a})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{}),i=a.forwardRef((e,a)=>(0,t.jsx)(s.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=e.i(72199);function n({className:e,...a}){return(0,t.jsx)(i,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>n],44634)},3447,e=>{"use strict";var t=e.i(28589),a=e.i(65480),r=e.i(50878),s=e.i(58198),i=e.i(43440),l=e.i(32420),n=e.i(89819),o=e.i(83805),d=e.i(48082),c="Switch",[u,x]=(0,l.createContextScope)(c),[f,p]=u(c),h=a.forwardRef((e,r)=>{let{__scopeSwitch:l,name:o,checked:u,defaultChecked:x,required:p,disabled:h,value:m="on",onCheckedChange:b,form:j,...y}=e,[w,N]=a.useState(null),k=(0,i.useComposedRefs)(r,e=>N(e)),C=a.useRef(!1),S=!w||j||!!w.closest("form"),[R,L]=(0,n.useControllableState)({prop:u,defaultProp:x??!1,onChange:b,caller:c});return(0,t.jsxs)(f,{scope:l,checked:R,disabled:h,children:[(0,t.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":R,"aria-required":p,"data-state":v(R),"data-disabled":h?"":void 0,disabled:h,value:m,...y,ref:k,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{L(e=>!e),S&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),S&&(0,t.jsx)(g,{control:w,bubbles:!C.current,name:o,value:m,checked:R,required:p,disabled:h,form:j,style:{transform:"translateX(-100%)"}})]})});h.displayName=c;var m="SwitchThumb",b=a.forwardRef((e,a)=>{let{__scopeSwitch:r,...s}=e,i=p(m,r);return(0,t.jsx)(d.Primitive.span,{"data-state":v(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:a})});b.displayName=m;var g=a.forwardRef(({__scopeSwitch:e,control:r,checked:s,bubbles:l=!0,...n},d)=>{let c,u=a.useRef(null),x=(0,i.useComposedRefs)(u,d),f=(c=a.useRef({value:s,previous:s}),a.useMemo(()=>(c.current.value!==s&&(c.current.previous=c.current.value,c.current.value=s),c.current.previous),[s])),p=(0,o.useSize)(r);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==s&&t){let a=new Event("click",{bubbles:l});t.call(e,s),e.dispatchEvent(a)}},[f,s,l]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:x,style:{...n.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function v(e){return e?"checked":"unchecked"}g.displayName="SwitchBubbleInput";var j=e.i(72199);function y({className:e,...a}){return(0,t.jsx)(h,{"data-slot":"switch",className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input inline-flex h-7 w-12 shrink-0 items-center rounded-full border-2 border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(b,{"data-slot":"switch-thumb",className:(0,j.cn)("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-6 rounded-full ring-0 shadow-sm transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})}var w=e.i(44634),N=e.i(94513),k=e.i(97961),C=e.i(16694),S=e.i(55102),R=e.i(59497),L=e.i(20804),P=e.i(26542),_=e.i(41049);function A(){let{user:e}=(0,L.useAuth)(),[s,i]=(0,a.useState)(null),[l,n]=(0,a.useState)(!0),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)({display_name:"",bio:""}),x=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{!async function(){if(e)try{let t=await (0,P.getUserProfile)(e.id);t&&(i(t),u({display_name:t.display_name||"",bio:t.bio||""}))}catch(e){console.error("Error loading profile:",e),_.toast.error("Failed to load profile")}n(!1)}()},[e]);let p=e=>{let{id:t,value:a}=e.target;u(e=>({...e,[t]:a}))},h=async()=>{if(e){d(!0);try{let t=await (0,P.updateUserProfile)(e.id,{display_name:c.display_name,bio:c.bio});t?(i(t),_.toast.success("Profile updated successfully")):_.toast.error("Failed to update profile")}catch(e){console.error("Error updating profile:",e),_.toast.error("An error occurred")}finally{d(!1)}}},m=async(t,a)=>{if(!e||!t.target.files||0===t.target.files.length)return;let r=t.target.files[0],s="avatar"===a?(0,P.uploadAvatar)(e.id,r):(0,P.uploadBanner)(e.id,r);_.toast.promise(s,{loading:`Uploading ${a}...`,success:t=>{if(t)return i(e=>e?{...e,["avatar"===a?"avatar_url":"banner_url"]:t}:null),(0,P.updateUserProfile)(e.id,{["avatar"===a?"avatar_url":"banner_url"]:t}),`${a.charAt(0).toUpperCase()+a.slice(1)} updated successfully`;throw Error("Upload failed")},error:"Failed to upload image"})};return l?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(S.RiLoader4Line,{className:"w-8 h-8 text-[#866bff] animate-spin"})}):(0,t.jsxs)(R.motion.div,{className:"p-4 md:p-8 space-y-8 max-w-[1600px] mx-auto",initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Settings"}),(0,t.jsx)("p",{className:"text-gray-400 text-lg",children:"Manage your account preferences and connections."})]}),(0,t.jsx)(R.motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.05},children:(0,t.jsxs)(C.Card,{className:"bg-[#1c1f2a]/40 backdrop-blur-xl border-white/5 text-white rounded-3xl overflow-hidden shadow-lg",children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsxs)(C.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,t.jsx)("div",{className:"bg-[#866bff]/20 p-2 rounded-lg",children:(0,t.jsx)(S.RiUserSettingsLine,{className:"w-6 h-6 text-[#866bff]"})}),"Public Profile"]}),(0,t.jsx)(C.CardDescription,{className:"text-gray-400 text-base ml-[52px]",children:"Update your public profile information"})]}),(0,t.jsx)(C.CardContent,{className:"space-y-8 pl-[60px] pr-8 pb-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"h-40 w-full bg-gradient-to-r from-[#4c1d95] to-[#866bff] rounded-2xl overflow-hidden relative group",children:[s?.banner_url&&(0,t.jsx)("img",{src:s.banner_url,alt:"Banner",className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:()=>f.current?.click(),children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-white font-bold bg-black/50 px-4 py-2 rounded-full backdrop-blur-md",children:[(0,t.jsx)(S.RiImageEditLine,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Change Banner"})]})}),(0,t.jsx)("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:e=>m(e,"banner")})]}),(0,t.jsx)("div",{className:"absolute -bottom-12 left-8",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"w-32 h-32 rounded-full border-4 border-[#1c1f2a] overflow-hidden bg-[#12141d]",children:(0,t.jsx)("img",{src:s?.avatar_url||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=800&q=80",alt:"Avatar",className:"w-full h-full object-cover"})}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer border-4 border-transparent",onClick:()=>x.current?.click(),children:(0,t.jsx)(S.RiUploadCloud2Line,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("input",{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:e=>m(e,"avatar")})]})})]}),(0,t.jsxs)("div",{className:"pt-12 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.Label,{htmlFor:"display_name",children:"Display Name"}),(0,t.jsx)(N.Input,{id:"display_name",value:c.display_name,onChange:p,className:"bg-black/20 border-white/10 text-white"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.Label,{htmlFor:"username",children:"Username"}),(0,t.jsx)(N.Input,{id:"username",value:`@${s?.username||"user"}`,disabled:!0,className:"bg-black/20 border-white/10 text-gray-400 cursor-not-allowed"})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,t.jsx)(w.Label,{htmlFor:"bio",children:"Bio"}),(0,t.jsx)(k.Textarea,{id:"bio",className:"bg-black/20 border-white/10 text-white min-h-[100px]",value:c.bio,onChange:p,placeholder:"Tell us about yourself..."})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(r.Button,{className:"bg-[#866bff] hover:bg-[#7059d6] text-white font-bold",onClick:h,disabled:o,children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.RiLoader4Line,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})})]})})]})}),(0,t.jsx)(R.motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:(0,t.jsxs)(C.Card,{className:"bg-[#1c1f2a]/40 backdrop-blur-xl border-white/5 text-white rounded-3xl overflow-hidden shadow-lg",children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsxs)(C.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,t.jsx)("div",{className:"bg-[#99ee2d]/20 p-2 rounded-lg",children:(0,t.jsx)(S.RiWallet3Line,{className:"w-6 h-6 text-[#99ee2d]"})}),"Wallet Connection"]}),(0,t.jsx)(C.CardDescription,{className:"text-gray-400 text-base ml-[52px]",children:"Manage your connected Web3 wallets"})]}),(0,t.jsxs)(C.CardContent,{className:"space-y-4 pl-[60px] pr-8 pb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-orange-500/20 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-orange-500 font-bold text-lg",children:"M"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-lg",children:"MetaMask"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 font-mono",children:"0x71C...9A23"})]})]}),(0,t.jsx)(r.Button,{variant:"ghost",className:"text-red-400 hover:bg-red-500/10 hover:text-red-500",children:"Disconnect"})]}),(0,t.jsx)(r.Button,{size:"lg",className:"w-full bg-[#866bff] hover:bg-[#7059d6] text-white font-bold shadow-lg shadow-[#866bff]/20",children:"Add New Wallet"})]})]})}),(0,t.jsx)(R.motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:(0,t.jsxs)(C.Card,{className:"bg-[#1c1f2a]/40 backdrop-blur-xl border-white/5 text-white rounded-3xl overflow-hidden shadow-lg",children:[(0,t.jsx)(C.CardHeader,{children:(0,t.jsxs)(C.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,t.jsx)("div",{className:"bg-[#866bff]/20 p-2 rounded-lg",children:(0,t.jsx)(S.RiNotification3Line,{className:"w-6 h-6 text-[#866bff]"})}),"Notifications"]})}),(0,t.jsxs)(C.CardContent,{className:"space-y-6 pl-[60px] pr-6 pb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-white/5 rounded-2xl transition-colors",children:[(0,t.jsxs)(w.Label,{htmlFor:"game-notifs",className:"flex flex-col gap-1 cursor-pointer items-start text-left",children:[(0,t.jsx)("span",{className:"text-lg font-medium",children:"Game Updates"}),(0,t.jsx)("span",{className:"font-normal text-sm text-gray-400",children:"Receive news about game patches and events"})]}),(0,t.jsx)(y,{id:"game-notifs",defaultChecked:!0,className:"data-[state=checked]:bg-[#866bff]"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-white/5 rounded-2xl transition-colors",children:[(0,t.jsxs)(w.Label,{htmlFor:"market-notifs",className:"flex flex-col gap-1 cursor-pointer items-start text-left",children:[(0,t.jsx)("span",{className:"text-lg font-medium",children:"Marketplace Activity"}),(0,t.jsx)("span",{className:"font-normal text-sm text-gray-400",children:"When items you follow are sold or listed"})]}),(0,t.jsx)(y,{id:"market-notifs",defaultChecked:!0,className:"data-[state=checked]:bg-[#866bff]"})]})]})]})}),(0,t.jsx)(R.motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:(0,t.jsxs)(C.Card,{className:"bg-[#1c1f2a]/40 backdrop-blur-xl border-white/5 text-white rounded-3xl overflow-hidden shadow-lg",children:[(0,t.jsx)(C.CardHeader,{children:(0,t.jsxs)(C.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:(0,t.jsx)(S.RiShieldCheckLine,{className:"w-6 h-6 text-blue-400"})}),"Privacy & Security"]})}),(0,t.jsxs)(C.CardContent,{className:"space-y-4 pl-[60px] pr-8 pb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 hover:bg-white/5 rounded-2xl transition-colors",children:[(0,t.jsx)(w.Label,{className:"text-lg font-medium",children:"Two-Factor Authentication"}),(0,t.jsx)(r.Button,{variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10 font-bold",children:"Enable"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 hover:bg-white/5 rounded-2xl transition-colors",children:[(0,t.jsx)(w.Label,{className:"text-lg font-medium",children:"Data Sharing"}),(0,t.jsx)(y,{className:"data-[state=checked]:bg-[#866bff]"})]})]})]})})]})}e.s(["default",()=>A],3447)}]);